---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import KeyVisual from '../components/KeyVisual.astro';
import ArticleGrid from '../components/ArticleGrid.astro';
import FeaturedPostsSlider from '../components/FeaturedPostsSlider.astro';

const posts = await getCollection('blog');
---

<BaseLayout title="Gira's Blog">
  <KeyVisual />

  <!-- ✅ Topicsセクション追加 -->
  <section class="featured-section">
    <h2 class="featured-title">Topics</h2>
    <FeaturedPostsSlider posts={posts.slice(0, 5)} />
  </section>

  <section class="blog-section">
    <h2 class="featured-title">Journal</h2>
    <ArticleGrid posts={posts} />
  </section>
</BaseLayout>

<style>
  .featured-section {
    background-color: #f0efef;
    padding: 1rem 2rem 3rem;
    text-align: center;
  }

  .featured-title {
    font-size: 2.2rem;
    font-weight: bold;
    margin-bottom: 1.5rem;
    text-align: center;
    color: #000;
    font-family: 'Zen Kaku Gothic New', sans-serif;
  }

  .blog-section {
    margin-top: 4rem;
    padding: 0 1rem;
  }

  .blog-section h2 {
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
    color: #1e3932;
  }
</style>
